{"mappings":"AAEA,MAAMA,EAASC,SAASC,cAAc,SAChCC,EAAeF,SAASC,cAAc,gBACtCE,EAASH,SAASC,cAAc,SACtCF,EAAOK,iBAAiB,UAOxB,SAAqBC,GAGnB,GAFAA,EAAMC,iBAE2C,KAA7CD,EAAME,cAAcC,SAASC,MAAMC,MACrC,OAAOC,OAAOC,MAAM,2BACf,GAAIC,EAAUC,SAAWT,EAAME,cAAcC,SAASC,MAAMC,MACjE,OAEFG,EAAUE,YACVF,EAAUC,OAAST,EAAME,cAAcC,SAASC,MAAMC,MACtDG,EAAUG,YAAYC,MAAKC,IAiB3Bf,EAAOgB,UAAY,GAfjBC,EAAcF,GACdhB,EAAamB,UAAUC,OAAO,kBAnBlCpB,EAAaE,iBAAiB,SAuB9B,WACES,EAAUG,YAAYC,KAAKG,MAtB7B,MAAMP,EAAY,ICNH,MAMbG,YACE,MAAMO,EAAS,IAAIC,gBAAgB,CACjCC,EAAG,GAAGC,KAAKC,cACXC,OAAQ,mCACRC,SAAU,EACVC,KAAM,GAAGJ,KAAKI,SAEhB,OAAOC,MAAM,qCAAqCR,KAC/CN,MAAKe,IACJ,IAAKA,EAAQC,GACX,MAAM,IAAIC,MAAMF,EAAQG,QAE1B,OAAOH,EAAQI,UAEhBnB,MAAKoB,IACJX,KAAKY,gBACED,EAAMnB,YAEdqB,OAAMC,GAASC,QAAQC,IAAIF,KAGhCF,gBACEZ,KAAKI,MAAQ,EAGff,YACEW,KAAKI,KAAO,EAGVhB,aACF,OAAOY,KAAKC,YAGVb,WAAO6B,GACTjB,KAAKC,YAAcgB,EAvCrBC,cACElB,KAAKC,YAAc,GACnBD,KAAKI,KAAO,ID4BhB,SAASV,EAAcF,GACrB2B,OAAS3B,EAAS4B,IAAIC,GAAYC,KAAK,IACvC7C,EAAO8C,mBAAmB,YAAaJ,QAOzC,SAASE,GAAWG,MAAEA,EAAKC,YAAEA,EAAWC,WAAEA,IACxC,MAAO,qBACKA,yCACAF,sBACDC,qBApCbjD,EAAamB,UAAUgC,IAAI","sources":["src/index.js","src/logics.js"],"sourcesContent":["import MyNewsApi from './logics';\n\nconst formEl = document.querySelector('.form');\nconst btnSeccondEl = document.querySelector('.btn-seccond');\nconst listEl = document.querySelector('.list');\nformEl.addEventListener('submit', onFetchInfo);\nbtnSeccondEl.addEventListener('click', onMoreFetchInfo);\n\nconst myNewsApi = new MyNewsApi();\n\nbtnSeccondEl.classList.add('is-hiden');\n\nfunction onFetchInfo(event) {\n  event.preventDefault();\n\n  if (event.currentTarget.elements.query.value === '') {\n    return window.alert('Введите парамерт поиска');\n  } else if (myNewsApi.search === event.currentTarget.elements.query.value) {\n    return;\n  }\n  myNewsApi.pageReset();\n  myNewsApi.search = event.currentTarget.elements.query.value;\n  myNewsApi.fetchInfo().then(articles => {\n    clearList();\n    addMarkupData(articles);\n    btnSeccondEl.classList.remove('is-hiden');\n  });\n}\n\nfunction onMoreFetchInfo() {\n  myNewsApi.fetchInfo().then(addMarkupData);\n}\n\nfunction addMarkupData(articles) {\n  markup = articles.map(markupData).join('');\n  listEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearList() {\n  listEl.innerHTML = '';\n}\n\nfunction markupData({ title, description, urlToImage }) {\n  return `<li>\n  <img src=\"${urlToImage}\" alt=\"\" width=\"300px\">\n        <h2>${title}</h2>\n        <p>${description}</p>\n      </li>`;\n}\n","const MY_NEWSAPI_KEY = 'a05ceaa7c0394871ad19df204a773bc7';\n\nexport default class MyNewsApi {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchInfo() {\n    const params = new URLSearchParams({\n      q: `${this.searchQuery}`,\n      apiKey: `${MY_NEWSAPI_KEY}`,\n      pageSize: 5,\n      page: `${this.page}`,\n    });\n    return fetch(`https://newsapi.org/v2/everything?${params}`)\n      .then(respons => {\n        if (!respons.ok) {\n          throw new Error(respons.status);\n        }\n        return respons.json();\n      })\n      .then(datas => {\n        this.pageIncrement();\n        return datas.articles;\n      })\n      .catch(error => console.log(error));\n  }\n\n  pageIncrement() {\n    this.page += 1;\n  }\n\n  pageReset() {\n    this.page = 1;\n  }\n\n  get search() {\n    return this.searchQuery;\n  }\n\n  set search(newSearch) {\n    this.searchQuery = newSearch;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$formEl","document","querySelector","$1f0dc3b9307be026$var$btnSeccondEl","$1f0dc3b9307be026$var$listEl","addEventListener","event","preventDefault","currentTarget","elements","query","value","window","alert","$1f0dc3b9307be026$var$myNewsApi","search","pageReset","fetchInfo","then","articles","innerHTML","$1f0dc3b9307be026$var$addMarkupData","classList","remove","params","URLSearchParams","q","this","searchQuery","apiKey","pageSize","page","fetch","respons","ok","Error","status","json","datas","pageIncrement","catch","error","console","log","newSearch","constructor","markup","map","$1f0dc3b9307be026$var$markupData","join","insertAdjacentHTML","title","description","urlToImage","add"],"version":3,"file":"index.7e6e058d.js.map"}