const e=document.querySelector(".form"),t=document.querySelector(".btn-seccond"),r=document.querySelector(".list");e.addEventListener("submit",(function(e){if(e.preventDefault(),""===e.currentTarget.elements.query.value)return window.alert("Введите парамерт поиска");if(n.search===e.currentTarget.elements.query.value)return;n.pageReset(),n.search=e.currentTarget.elements.query.value,n.fetchInfo().then((e=>{r.innerHTML="",s(e),t.classList.remove("is-hiden")}))})),t.addEventListener("click",(function(){n.fetchInfo().then(s)}));const n=new class{fetchInfo(){const e=new URLSearchParams({q:`${this.searchQuery}`,apiKey:"a05ceaa7c0394871ad19df204a773bc7",pageSize:5,page:`${this.page}`});return fetch(`https://newsapi.org/v2/everything?${e}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>(this.pageIncrement(),e.articles))).catch((e=>console.log(e)))}pageIncrement(){this.page+=1}pageReset(){this.page=1}get search(){return this.searchQuery}set search(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}};function s(e){markup=e.map(a).join(""),r.insertAdjacentHTML("beforeend",markup)}function a({title:e,description:t,urlToImage:r}){return`<li>\n  <img src="${r}" alt="" width="320px">\n        <h2>${e}</h2>\n        <p>${t}</p>\n      </li>`}t.classList.add("is-hiden");
//# sourceMappingURL=index.646d5963.js.map
